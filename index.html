<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>calculatrice JS</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css" />
</head>

<body>

    <div class="container" id="calc">

        <!-- AFFICHAGE -->

        <div class="affichage row calc_div_resultat ">

            <input id="firstNumb" class="text-end col-12 border border-white" />
            <input id="operation" class="text-end col-12 border border-white" />
            <input id="secondNumb" class="text-end col-12 border border-white" />
            <input id="resultat" class="text-end col-12 border border-white" />

        </div>

        <!-- BOUTON 7 A 9 ET ADDITIONER -->
        <div class="row calc_div_btn">
            <input type="button" id="sept" class="col-3 calc_btn " value="7" onclick="displayNumber(7)" />

            <input type="button" id="huit" class="col-3 calc_btn" value="8" onclick="displayNumber(8)" />


            <input type="button" id="neuf" class="col-3 calc_btn" value="9" onclick="displayNumber(9)" />


            <input type="button" id="plus" class="col-3 calc_btnplus" value="+" onclick="displayOperator('+')" />
        </div>

        <!-- BOUTON 4 A 6 ET SOUSTRAIRE -->

        <div class="row calc_div_btn">
            <input type="button" id="quatre" class="col-3 calc_btn" value="4" onclick="displayNumber(4)" />


            <input type="button" id="cinq" class="col-3 calc_btn" value="5" onclick="displayNumber(5)" />

            <input type="button" id="six" class="col-3 calc_btn" value="6" onclick="displayNumber(6)" />

            <input type="button" id="moins" class="col-3 calc_btnmoins" value="-" onclick="displayOperator('—')" />
        </div>
        <!-- BOUTON 1 A 3 ET MULTIPLIER -->

        <div class="row calc_div_btn">
            <input type="button" id="un" class="col-3 calc_btn" value="1" onclick="displayNumber(1)" />

            <input type="button" id="deux" class="col-3 calc_btn" value="2" onclick="displayNumber(2)" />

            <input type="button" id="trois" class="col-3 calc_btn" value="3" onclick="displayNumber(3)" />

            <input type="button" id="fois" class="col-3 calc_btnx" value="X" onclick="displayOperator('X')" />
        </div>

        <!-- BOUTON VIRGULE 0 C ET DIVISER -->

        <div class=" row calc_div_btn">
            <input type="button" id="point" class=" col-3 calc_btn" value="." onclick="displayPoint()" />

            <input type="button" id="zero" class="col-3 calc_btn" value="0" onclick="displayNumber(0)" />

            <input type="button" id="supprime" class="col-3 calc_btn" value="C" onclick="reset()" />

            <input type="button" id="diviser" class="col-3 calc_btndivis" value="/" onclick="displayOperator('/')" />
        </div>

        <!-- BOUTON EGALE -->

        <div class=" row calc_div_btn">
            <input type="button" id="egale" class="col-12 calc_btn_egale" value="=" onclick="calculate()" />
        </div>
    </div>


    </div>
    <script>
        // CIBLE LA CASE DANS LAQUELLE ON VA ECRIRE LES PREMIERS NOMBRES//
        let display = document.getElementById("firstNumb")

        //DECLARE UNE VARIABLE QUI VA NOUS PERMETTRE DE SAVOIR SI NOUS AVONS CLIQUER SUR LE POINT//
        let point = false

        // FONCTION AFFICHAGE FIRSTNUMBER//

        function displayNumber(number) {
            display.value += number
        }
        // FONCTION AFFICHAGE OPERATOR//
        function displayOperator(operator) {
            document.getElementById("operation").value = operator
            //ON CONTROLE LA ZONE FIRSTNUMB POUR VOIR SI ELLE N EST PAS VIDE A L AIDE DE .LENGTH//
            if (display.value.length >= 1) {
                //ON PASSE SUR LA ZONE SECONDNUMB
                display = document.getElementById("secondNumb")

            }
            //LORSQUE NOUS CLIQUONS SUR L OPERATEUR ON REACTIVE LE POINT A L AIDE DE LA VARIABLE POINT//
            point = false
        }
        //FONCTION RESET//

        function reset() {
            document.getElementById("firstNumb").value = ""
            document.getElementById("operation").value = ""
            document.getElementById("secondNumb").value = ""
            document.getElementById("resultat").value = ""

            //ON RECHARGE LA ZONE PAR DEFAUT SUR FIRSTNUMB
            display = document.getElementById("firstNumb")
            point = false
        }



        function displayPoint() {
            //SI POINT EST DIFFERENT DE FAUX ON AJOUT UN POINT//
            if (!point) {
                display.value += "."
                //ON PASSE POINT EN VRAI POUR LE DESACTIVER//
            }
            point = true

        }
        // function calculate(){
        //         let nb1=document.getElementById("firstNumb").value
        //             let nb2=document.getElementById("secondNumb").value
        //             document.getElementById("resultat").value= nb1 * nb2}

        function calculate() {
            let nb1 = Number(document.getElementById("firstNumb").value)
            let nb2 = Number(document.getElementById("secondNumb").value)
            let operator = document.getElementById("operation").value
            let resultat
            switch (operator) {

                case '+':
                    resultat = nb1 + nb2

                    break

                case '—':

                    resultat = nb1 - nb2

                    break

                case 'X':

                    resultat = nb1 * nb2

                    break
                case '/':

                    resultat = nb1 / nb2

                    break


            }
            console.log (resultat)
            document.getElementById("resultat").value = resultat

        }
    </script>

</body>

</html>